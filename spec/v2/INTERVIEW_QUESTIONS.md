# Вопросы интервью — закрытие неопределённостей v2

> Максимум 12 вопросов. Все ответы получены. Документ зафиксирован.

---

### Q1. n8n: есть ли инстанс?

**Ответ:** Нет. Поставим n8n self-hosted через Docker на неделе 3.

---

### Q2. Alert channel: Telegram или email?

**Ответ:** Telegram бот. Отдельный полноценный аккаунт для ассистента.

---

### Q3. Yandex IMAP: какой аккаунт?

**Ответ:** 1 аккаунт, INBOX only.

---

### Q4. CalDAV: какой календарь?

**Ответ:** Yandex Calendar, 1 календарь.

---

### Q5. Ollama: уже установлен?

**Ответ:** Установлен, `qwen2.5:7b` доступна. MacBook 18 GB RAM — достаточно для 7B модели.

---

### Q6. Anthropic API key / LLM policy

**Ответ:** Ключ есть (через Claude Code подписку). **Использовать локальную LLM только для хорошо описанных простых задач.** Тщательная приёмка результата LLM обязательна. Cloud API не используется напрямую для задач ассистента.

---

### Q7. Сколько emails в день?

**Ответ:** ~20 emails/day. Это упрощает: 20 LLM-вызовов/day (Ollama), ~5 минут processing. Rate limiting и кеш не нужны.

---

### Q8. PII в subject: стрипать?

**Ответ:** Нет для local Ollama (данные не покидают машину). Да для cloud fallback (если используется).

---

### Q9. day_plans + time_blocks: нужны?

**Ответ:** Да, сохраняем в БД. **PostgreSQL в Docker как отдельный сервис** вместо SQLite.

> **Архитектурное решение:** переход с SQLite на PostgreSQL. Требуется новый ADR. Docker Compose: n8n + PostgreSQL.

---

### Q10. Existing tasks: миграция данных?

**Ответ:** Миграцию не делаем. Чистый старт.

---

### Q11. Webhook для email trigger?

**Ответ:** Не определено. Default: cron + CLI. Webhook можно добавить позже.

---

### Q12. Audit log для approve/reject?

**Ответ:** `task_drafts.reviewed_at` + `status` достаточно.

---

## Дополнительное правило (от пользователя)

> При разработке микросервисов — сначала поиск существующих модулей, на их основе создавать дополнительную функциональность.

Не писать новый модуль, пока не проверен текущий код на переиспользование.

---

## Сводка решений

| # | Вопрос | Решение |
|---|--------|---------|
| Q1 | n8n | Нет, Docker на неделе 3 |
| Q2 | Alert | Telegram бот, отдельный аккаунт |
| Q3 | IMAP | 1 аккаунт, INBOX only |
| Q4 | CalDAV | Yandex Calendar, 1 календарь |
| Q5 | Ollama | Установлен, qwen2.5:7b, 18 GB RAM |
| Q6 | LLM policy | Local only для простых задач, тщательная приёмка |
| Q7 | Email volume | ~20/day |
| Q8 | PII strip | Нет для local, да для cloud |
| Q9 | Storage | **PostgreSQL в Docker** (не SQLite) |
| Q10 | Миграция | Чистый старт, без миграции |
| Q11 | Webhook | Default: cron + CLI |
| Q12 | Audit log | task_drafts достаточно |

**Все неопределённости закрыты. Можно начинать реализацию.**
